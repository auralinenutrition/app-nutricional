{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ChevronRight } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype UserSimple = {\r\n  name?: string | null;\r\n  email?: string | null;\r\n};\r\n\r\ntype HeaderProps = {\r\n  user: UserSimple | null;\r\n};\r\n\r\nexport default function Header({ user } : HeaderProps) {\r\n  const router = useRouter();\r\n  const name = user?.name;\r\n  const email = user?.email;\r\n\r\n  const initials = name\r\n    ? name[0].toUpperCase()\r\n    : email?.[0]?.toUpperCase() ?? \"?\";\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between mb-6 px-2\">\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-lg font-semibold\">\r\n          {initials}\r\n        </div>\r\n        <div>\r\n          <p className=\"text-gray-600 text-sm\">Bom dia,</p>\r\n          <p className=\"font-semibold\">{email}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"cursor-pointer text-gray-500\"\r\n        onClick={() => router.push(\"/progresso\")}\r\n      >\r\n        <ChevronRight size={24} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAce,SAAS,OAAO,EAAE,IAAI,EAAgB;IACnD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,OAAO,MAAM;IACnB,MAAM,QAAQ,MAAM;IAEpB,MAAM,WAAW,OACb,IAAI,CAAC,EAAE,CAAC,WAAW,KACnB,OAAO,CAAC,EAAE,EAAE,iBAAiB;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAEH,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;0CACrC,8OAAC;gCAAE,WAAU;0CAAiB;;;;;;;;;;;;;;;;;;0BAIlC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,OAAO,IAAI,CAAC;0BAE3B,cAAA,8OAAC,sNAAA,CAAA,eAAY;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAI5B","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/CircularProgess.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\n\r\ntype CircularProgressProps = {\r\n  value: number; // percentual 0–100\r\n  innerText?: string; // texto grande dentro\r\n  innerSub?: string; // texto pequeno abaixo do texto principal\r\n};\r\n\r\nexport default function CircularProgress({\r\n  value,\r\n  innerText,\r\n  innerSub,\r\n}: CircularProgressProps) {\r\n  const radius = 36;\r\n  const stroke = 12; // mais grosso\r\n  const circumference = 2 * Math.PI * radius;\r\n  const offset = circumference - (value / 100) * circumference;\r\n\r\n  return (\r\n    <div className=\"relative w-[90px] h-[90px] flex items-center justify-center\">\r\n      {/* SVG do círculo */}\r\n      <svg className=\"w-[90px] h-[90px] transform -rotate-90\">\r\n        <defs>\r\n          <linearGradient\r\n            id=\"progressGradient\"\r\n            x1=\"0%\"\r\n            y1=\"0%\"\r\n            x2=\"100%\"\r\n            y2=\"100%\"\r\n          >\r\n            <stop offset=\"0%\" stopColor=\"#00C974\" />\r\n            <stop offset=\"100%\" stopColor=\"#0AD18C\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <circle\r\n          cx=\"45\"\r\n          cy=\"45\"\r\n          r={radius}\r\n          stroke=\"#E5E7EB\"\r\n          strokeWidth={stroke}\r\n          fill=\"none\"\r\n        />\r\n\r\n        {/* Progresso */}\r\n        <motion.circle\r\n          cx=\"45\"\r\n          cy=\"45\"\r\n          r={radius}\r\n          stroke=\"url(#progressGradient)\"\r\n          strokeWidth={stroke}\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n          initial={{ strokeDashoffset: circumference }}\r\n          animate={{ strokeDashoffset: offset }}\r\n          transition={{ duration: 1 }}\r\n        />\r\n      </svg>\r\n\r\n      {/* Conteúdo central */}\r\n      <div className=\"absolute flex flex-col items-center\">\r\n        {innerText && (\r\n          <span className=\"text-sm font-semibold text-[#0A0A0A] leading-tight\">\r\n            {innerText}\r\n          </span>\r\n        )}\r\n        {innerSub && (\r\n          <span className=\"text-[10px] text-gray-500 mt-[1px]\">{innerSub}</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAQe,SAAS,iBAAiB,EACvC,KAAK,EACL,SAAS,EACT,QAAQ,EACc;IACtB,MAAM,SAAS;IACf,MAAM,SAAS,IAAI,cAAc;IACjC,MAAM,gBAAgB,IAAI,KAAK,EAAE,GAAG;IACpC,MAAM,SAAS,gBAAgB,AAAC,QAAQ,MAAO;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC;4BACC,IAAG;4BACH,IAAG;4BACH,IAAG;4BACH,IAAG;4BACH,IAAG;;8CAEH,8OAAC;oCAAK,QAAO;oCAAK,WAAU;;;;;;8CAC5B,8OAAC;oCAAK,QAAO;oCAAO,WAAU;;;;;;;;;;;;;;;;;kCAGlC,8OAAC;wBACC,IAAG;wBACH,IAAG;wBACH,GAAG;wBACH,QAAO;wBACP,aAAa;wBACb,MAAK;;;;;;kCAIP,8OAAC,0LAAA,CAAA,SAAM,CAAC,MAAM;wBACZ,IAAG;wBACH,IAAG;wBACH,GAAG;wBACH,QAAO;wBACP,aAAa;wBACb,MAAK;wBACL,eAAc;wBACd,iBAAiB;wBACjB,kBAAkB;wBAClB,SAAS;4BAAE,kBAAkB;wBAAc;wBAC3C,SAAS;4BAAE,kBAAkB;wBAAO;wBACpC,YAAY;4BAAE,UAAU;wBAAE;;;;;;;;;;;;0BAK9B,8OAAC;gBAAI,WAAU;;oBACZ,2BACC,8OAAC;wBAAK,WAAU;kCACb;;;;;;oBAGJ,0BACC,8OAAC;wBAAK,WAAU;kCAAsC;;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/DailyGoals.tsx"],"sourcesContent":["import CircularProgress from \"./CircularProgess\";\r\n\r\ntype DailyGoalsProps = {\r\n  water: number;            // percentual\r\n  meals: number;            // percentual\r\n  calories: number;         // percentual\r\n  mealsDone?: number;       // opcional, mas ideal\r\n  mealsGoal?: number;       // opcional, mas ideal\r\n  waterValue?: number;      // ml\r\n  waterGoal?: number;       // ml\r\n  caloriesValue?: number;   // kcal\r\n  caloriesGoal?: number;    // kcal\r\n};\r\n\r\nexport default function DailyGoals({\r\n  water,\r\n  meals,\r\n  calories,\r\n  mealsDone = 0,\r\n  mealsGoal = 4,\r\n  waterValue = 0,\r\n  waterGoal = 2000,\r\n  caloriesValue = 0,\r\n  caloriesGoal = 2000\r\n}: DailyGoalsProps) {\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-5 shadow-sm mb-6\">\r\n      <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n\r\n        {/* ÁGUA */}\r\n        <div>\r\n          <CircularProgress\r\n            value={water}\r\n            innerText={`${waterValue}ml`}\r\n            innerSub={`de ${waterGoal}`}\r\n          />\r\n          <p className=\"mt-2 font-medium\">Água</p>\r\n        </div>\r\n\r\n        {/* REFEIÇÕES */}\r\n        <div>\r\n          <CircularProgress\r\n            value={meals}\r\n            innerText={`${mealsDone}/${mealsGoal}`}\r\n            innerSub={`${meals}%`}\r\n          />\r\n          <p className=\"mt-2 font-medium\">Refeições</p>\r\n        </div>\r\n\r\n        {/* CALORIAS */}\r\n        <div>\r\n          <CircularProgress\r\n            value={calories}\r\n            innerText={`${caloriesValue}`}\r\n            innerSub={`kcal`}\r\n          />\r\n          <p className=\"mt-2 font-medium\">Calorias</p>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAce,SAAS,WAAW,EACjC,KAAK,EACL,KAAK,EACL,QAAQ,EACR,YAAY,CAAC,EACb,YAAY,CAAC,EACb,aAAa,CAAC,EACd,YAAY,IAAI,EAChB,gBAAgB,CAAC,EACjB,eAAe,IAAI,EACH;IAChB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;;sCACC,8OAAC,6IAAA,CAAA,UAAgB;4BACf,OAAO;4BACP,WAAW,GAAG,WAAW,EAAE,CAAC;4BAC5B,UAAU,CAAC,GAAG,EAAE,WAAW;;;;;;sCAE7B,8OAAC;4BAAE,WAAU;sCAAmB;;;;;;;;;;;;8BAIlC,8OAAC;;sCACC,8OAAC,6IAAA,CAAA,UAAgB;4BACf,OAAO;4BACP,WAAW,GAAG,UAAU,CAAC,EAAE,WAAW;4BACtC,UAAU,GAAG,MAAM,CAAC,CAAC;;;;;;sCAEvB,8OAAC;4BAAE,WAAU;sCAAmB;;;;;;;;;;;;8BAIlC,8OAAC;;sCACC,8OAAC,6IAAA,CAAA,UAAgB;4BACf,OAAO;4BACP,WAAW,GAAG,eAAe;4BAC7B,UAAU,CAAC,IAAI,CAAC;;;;;;sCAElB,8OAAC;4BAAE,WAAU;sCAAmB;;;;;;;;;;;;;;;;;;;;;;;AAM1C","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/TodayMeals.tsx"],"sourcesContent":["import { ChevronRight } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype Meal = {\r\n  title: string;\r\n  calories?: number;\r\n  description?: string;\r\n};\r\n\r\ntype TodayMealsProps = {\r\n  meals: Meal[];\r\n};\r\n\r\nexport default function TodayMeals({ meals } : TodayMealsProps) {\r\n  const router = useRouter();\r\n  const today = new Date().toLocaleDateString(\"pt-BR\");\r\n\r\n  return (\r\n    <div className=\"px-2 mb-6\">\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h2 className=\"font-semibold text-lg\">Refeições de hoje</h2>\r\n        <span className=\"text-sm text-gray-500\">{today}</span>\r\n      </div>\r\n\r\n      {meals?.length === 0 && (\r\n        <p className=\"text-gray-500\">\r\n          Nenhuma refeição encontrada para hoje — a IA ainda não gerou um plano.\r\n        </p>\r\n      )}\r\n\r\n      {meals?.length > 0 && (\r\n        <div className=\"bg-white rounded-xl shadow-sm p-4 relative\">\r\n          <div\r\n            className=\"absolute right-4 top-4 cursor-pointer text-gray-400\"\r\n            onClick={() => router.push(\"/meals\")}\r\n          >\r\n            <ChevronRight size={22} />\r\n          </div>\r\n\r\n          {meals.map((meal, i) => (\r\n            <div key={i} className=\"mb-4\">\r\n              <p className=\"font-medium\">{meal.title}</p>\r\n              <p className=\"text-sm text-gray-500\">{meal.calories} kcal</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAYe,SAAS,WAAW,EAAE,KAAK,EAAoB;IAC5D,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,QAAQ,IAAI,OAAO,kBAAkB,CAAC;IAE5C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;YAG1C,OAAO,WAAW,mBACjB,8OAAC;gBAAE,WAAU;0BAAgB;;;;;;YAK9B,OAAO,SAAS,mBACf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC;kCAE3B,cAAA,8OAAC,sNAAA,CAAA,eAAY;4BAAC,MAAM;;;;;;;;;;;oBAGrB,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,8OAAC;4BAAY,WAAU;;8CACrB,8OAAC;oCAAE,WAAU;8CAAe,KAAK,KAAK;;;;;;8CACtC,8OAAC;oCAAE,WAAU;;wCAAyB,KAAK,QAAQ;wCAAC;;;;;;;;2BAF5C;;;;;;;;;;;;;;;;;AAStB","debugId":null}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/WeeklyPlan.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport Link from \"next/link\";\r\nimport clsx from \"clsx\";\r\n\r\ntype AiDayMeal = {\r\n  title: string;\r\n  description?: string;\r\n  calories?: number;\r\n};\r\n\r\ntype DayKey =\r\n  | \"domingo\"\r\n  | \"segunda\"\r\n  | \"terca\"\r\n  | \"quarta\"\r\n  | \"quinta\"\r\n  | \"sexta\"\r\n  | \"sabado\";\r\n\r\nexport type AiPlanDays = Record<DayKey, AiDayMeal[]>;\r\n\r\ntype WeeklyPlanProps = {\r\n  plan: AiPlanDays;\r\n  totals?: Record<DayKey, number>;\r\n};\r\n\r\nconst dayOrder: DayKey[] = [\r\n  \"domingo\",\r\n  \"segunda\",\r\n  \"terca\",\r\n  \"quarta\",\r\n  \"quinta\",\r\n  \"sexta\",\r\n  \"sabado\",\r\n];\r\n\r\nconst displayName: Record<DayKey, string> = {\r\n  domingo: \"Dom\",\r\n  segunda: \"Seg\",\r\n  terca: \"Ter\",\r\n  quarta: \"Qua\",\r\n  quinta: \"Qui\",\r\n  sexta: \"Sex\",\r\n  sabado: \"Sáb\",\r\n};\r\n\r\nexport default function WeeklyPlan({ plan, totals }: WeeklyPlanProps) {\r\n  const todayIndex = new Date().getDay(); // 0–6\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // AUTO-SCROLL PARA O DIA DE HOJE\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    const items = containerRef.current.querySelectorAll(\".weekly-card-item\");\r\n    const todayItem = items[todayIndex] as HTMLElement | undefined;\r\n\r\n    if (todayItem) {\r\n      todayItem.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        inline: \"center\",\r\n        block: \"nearest\",\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"mt-6 mb-6\">\r\n      <div className=\"flex items-center justify-between mb-3 px-1\">\r\n        <h3 className=\"text-lg font-semibold text-[#0A0A0A]\">\r\n          Seu plano da semana\r\n        </h3>\r\n        <Link\r\n          href=\"/weekly-plan\"\r\n          className=\"text-sm text-[#00C974] font-medium\"\r\n        >\r\n          Ver cardápio completo\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-2xl p-4 shadow-sm\">\r\n        <div\r\n          ref={containerRef}\r\n          className=\"flex gap-3 overflow-x-auto pb-3 -mx-2 px-2\"\r\n        >\r\n          {dayOrder.map((dayKey, idx) => {\r\n            const meals = plan[dayKey] ?? [];\r\n            const summary = meals\r\n              .slice(0, 2)\r\n              .map((m) => `${m.title} • ${m.calories ?? 0} kcal`)\r\n              .join(\" | \");\r\n            const isToday = idx === todayIndex;\r\n\r\n            const total =\r\n              totals?.[dayKey] ??\r\n              meals.reduce((s, m) => s + (m.calories ?? 0), 0);\r\n\r\n            return (\r\n              <div\r\n                key={dayKey}\r\n                className=\"min-w-[200px] flex-shrink-0 weekly-card-item\"\r\n              >\r\n                <div\r\n                  className={clsx(\r\n                    \"p-3 rounded-2xl border transition\",\r\n                    isToday ? \"border-[#00C974] shadow-md\" : \"border-gray-100\"\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div\r\n                        className={clsx(\r\n                          \"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold\",\r\n                          isToday\r\n                            ? \"bg-[#00C974] text-white\"\r\n                            : \"bg-gray-100 text-gray-800\"\r\n                        )}\r\n                      >\r\n                        {displayName[dayKey]}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          {isToday ? \"Hoje\" : displayName[dayKey]}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-400\">\r\n                          {total} kcal\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {meals.length} ref.\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"text-sm text-gray-700 mb-1\">\r\n                    {summary || \"Sem plano gerado\"}\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2 mt-2\">\r\n                    <Link\r\n                      href={`/weekly-menu?day=${dayKey}`}\r\n                      className=\"text-xs px-3 py-1 rounded-full border border-gray-200 text-gray-600\"\r\n                    >\r\n                      Ver dia\r\n                    </Link>\r\n\r\n                    <button\r\n                      onClick={() =>\r\n                        (window.location.href = `/weekly-menu?day=${dayKey}`)\r\n                      }\r\n                      className=\"ml-auto text-xs px-3 py-1 rounded-full bg-[#00C974] text-white\"\r\n                    >\r\n                      Abrir\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AA4BA,MAAM,WAAqB;IACzB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,cAAsC;IAC1C,SAAS;IACT,SAAS;IACT,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,OAAO;IACP,QAAQ;AACV;AAEe,SAAS,WAAW,EAAE,IAAI,EAAE,MAAM,EAAmB;IAClE,MAAM,aAAa,IAAI,OAAO,MAAM,IAAI,MAAM;IAC9C,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAyB;IAEnD,iCAAiC;IACjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,aAAa,OAAO,EAAE;QAE3B,MAAM,QAAQ,aAAa,OAAO,CAAC,gBAAgB,CAAC;QACpD,MAAM,YAAY,KAAK,CAAC,WAAW;QAEnC,IAAI,WAAW;YACb,UAAU,cAAc,CAAC;gBACvB,UAAU;gBACV,QAAQ;gBACR,OAAO;YACT;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCAGrD,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,KAAK;oBACL,WAAU;8BAET,SAAS,GAAG,CAAC,CAAC,QAAQ;wBACrB,MAAM,QAAQ,IAAI,CAAC,OAAO,IAAI,EAAE;wBAChC,MAAM,UAAU,MACb,KAAK,CAAC,GAAG,GACT,GAAG,CAAC,CAAC,IAAM,GAAG,EAAE,KAAK,CAAC,GAAG,EAAE,EAAE,QAAQ,IAAI,EAAE,KAAK,CAAC,EACjD,IAAI,CAAC;wBACR,MAAM,UAAU,QAAQ;wBAExB,MAAM,QACJ,QAAQ,CAAC,OAAO,IAChB,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG;wBAEhD,qBACE,8OAAC;4BAEC,WAAU;sCAEV,cAAA,8OAAC;gCACC,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAI,AAAD,EACZ,qCACA,UAAU,+BAA+B;;kDAG3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAI,AAAD,EACZ,iFACA,UACI,4BACA;kEAGL,WAAW,CAAC,OAAO;;;;;;kEAEtB,8OAAC;;0EACC,8OAAC;gEAAI,WAAU;0EACZ,UAAU,SAAS,WAAW,CAAC,OAAO;;;;;;0EAEzC,8OAAC;gEAAI,WAAU;;oEACZ;oEAAM;;;;;;;;;;;;;;;;;;;0DAKb,8OAAC;gDAAI,WAAU;;oDACZ,MAAM,MAAM;oDAAC;;;;;;;;;;;;;kDAIlB,8OAAC;wCAAI,WAAU;kDACZ,WAAW;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,4JAAA,CAAA,UAAI;gDACH,MAAM,CAAC,iBAAiB,EAAE,QAAQ;gDAClC,WAAU;0DACX;;;;;;0DAID,8OAAC;gDACC,SAAS,IACN,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,iBAAiB,EAAE,QAAQ;gDAEtD,WAAU;0DACX;;;;;;;;;;;;;;;;;;2BArDA;;;;;oBA4DX;;;;;;;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 682, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/ShoppingPreview.tsx"],"sourcesContent":["import { ChevronRight } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype ShoppingPreviewProps = {\r\n  items: string[];\r\n};\r\n\r\nexport default function ShoppingPreview({ items } : ShoppingPreviewProps) {\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-sm p-5 relative\">\r\n\r\n      <div\r\n        className=\"absolute right-4 top-4 cursor-pointer text-gray-400\"\r\n        onClick={() => router.push(\"/shopping\")}\r\n      >\r\n        <ChevronRight size={22} />\r\n      </div>\r\n\r\n      <h3 className=\"font-semibold text-lg\">Lista de compras</h3>\r\n      <p className=\"text-gray-600 mt-2\">\r\n        {items.length === 0 ? \"Nenhum item gerado ainda\" : \"Itens sugeridos\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAMe,SAAS,gBAAgB,EAAE,KAAK,EAAyB;IACtE,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,OAAO,IAAI,CAAC;0BAE3B,cAAA,8OAAC,sNAAA,CAAA,eAAY;oBAAC,MAAM;;;;;;;;;;;0BAGtB,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBAAE,WAAU;0BACV,MAAM,MAAM,KAAK,IAAI,6BAA6B;;;;;;;;;;;;AAI3D","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/CaloriesCard.tsx"],"sourcesContent":["type CaloriesCardProps = {\r\n  calories: number;\r\n};\r\n\r\nexport default function CaloriesCard({ calories } : CaloriesCardProps) {\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-sm p-5\">\r\n      <h3 className=\"font-semibold text-lg\">Calorias</h3>\r\n      <p className=\"text-2xl font-bold mt-2\">{calories} kcal</p>\r\n      <p className=\"text-gray-500 text-sm\">Meta: 2000 kcal</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAIe,SAAS,aAAa,EAAE,QAAQ,EAAsB;IACnE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBAAE,WAAU;;oBAA2B;oBAAS;;;;;;;0BACjD,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3C","debugId":null}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/BottomBar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { Home, Utensils, ClipboardList, User } from \"lucide-react\";\r\n\r\nexport default function BottomBar() {\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 w-full bg-white border-t border-gray-200 z-50 shadow-[0_-6px_18px_rgba(0,0,0,0.06)]\">\r\n      <div className=\"flex justify-around py-3\">\r\n        <Link href=\"/home\" className=\"flex flex-col items-center gap-1\">\r\n          <Home size={22} strokeWidth={2} className=\"text-gray-700\" />\r\n        </Link>\r\n\r\n        <Link href=\"/meals\" className=\"flex flex-col items-center gap-1\">\r\n          <Utensils size={22} strokeWidth={2} className=\"text-gray-700\" />\r\n        </Link>\r\n\r\n        <Link href=\"/shopping\" className=\"flex flex-col items-center gap-1\">\r\n          <ClipboardList size={22} strokeWidth={2} className=\"text-gray-700\" />\r\n        </Link>\r\n\r\n        <Link href=\"/profile\" className=\"flex flex-col items-center gap-1\">\r\n          <User size={22} strokeWidth={2} className=\"text-gray-700\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAQ,WAAU;8BAC3B,cAAA,8OAAC,mMAAA,CAAA,OAAI;wBAAC,MAAM;wBAAI,aAAa;wBAAG,WAAU;;;;;;;;;;;8BAG5C,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAS,WAAU;8BAC5B,cAAA,8OAAC,0MAAA,CAAA,WAAQ;wBAAC,MAAM;wBAAI,aAAa;wBAAG,WAAU;;;;;;;;;;;8BAGhD,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAY,WAAU;8BAC/B,cAAA,8OAAC,wNAAA,CAAA,gBAAa;wBAAC,MAAM;wBAAI,aAAa;wBAAG,WAAU;;;;;;;;;;;8BAGrD,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAW,WAAU;8BAC9B,cAAA,8OAAC,kMAAA,CAAA,OAAI;wBAAC,MAAM;wBAAI,aAAa;wBAAG,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKpD","debugId":null}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/ActionMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Utensils, Droplet, Scale, Camera } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  onClose?: () => void;\r\n\r\n  onRegisterMeal?: () => void;\r\n  onRegisterWater?: () => void;\r\n  onRegisterWeight?: () => void;\r\n  onRegisterPhoto?: () => void;\r\n};\r\n\r\nexport default function ActionMenu({\r\n  open,\r\n  onClose,\r\n  onRegisterMeal,\r\n  onRegisterWater,\r\n  onRegisterWeight,\r\n  onRegisterPhoto,\r\n}: Props) {\r\n  if (!open) return null;\r\n\r\n  const actions = [\r\n    {\r\n      key: \"meal\",\r\n      label: \"Registrar refeição\",\r\n      icon: <Utensils size={20} strokeWidth={2.2} className=\"text-[#00C974]\" />,\r\n      onClick: onRegisterMeal,\r\n    },\r\n    {\r\n      key: \"water\",\r\n      label: \"Registrar água\",\r\n      icon: <Droplet size={20} strokeWidth={2.2} className=\"text-[#00C974]\" />,\r\n      onClick: onRegisterWater,\r\n    },\r\n    {\r\n      key: \"weight\",\r\n      label: \"Registrar peso\",\r\n      icon: <Scale size={20} strokeWidth={2.2} className=\"text-[#00C974]\" />,\r\n      onClick: onRegisterWeight,\r\n    },\r\n    {\r\n      key: \"photo\",\r\n      label: \"Foto de progresso\",\r\n      icon: <Camera size={20} strokeWidth={2.2} className=\"text-[#00C974]\" />,\r\n      onClick: onRegisterPhoto,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 12 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: 10 }}\r\n        className=\"fixed right-6 bottom-36 z-50 flex flex-col gap-3\"\r\n      >\r\n        {actions.map((a, i) => (\r\n          <motion.button\r\n            key={a.key}\r\n            onClick={() => {\r\n              a.onClick && a.onClick();\r\n              onClose && onClose();\r\n            }}\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0, transition: { delay: i * 0.06 } }}\r\n            exit={{ opacity: 0, y: 8 }}\r\n            className=\"flex items-center gap-3 w-56 bg-white rounded-2xl px-5 py-3 shadow-[0_8px_20px_rgba(0,0,0,0.08)]\"\r\n          >\r\n            <div className=\"w-6 h-6 flex items-center justify-center\">{a.icon}</div>\r\n            <div className=\"text-[#0A0A0A] font-medium text-base\">{a.label}</div>\r\n          </motion.button>\r\n        ))}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAHA;;;;AAee,SAAS,WAAW,EACjC,IAAI,EACJ,OAAO,EACP,cAAc,EACd,eAAe,EACf,gBAAgB,EAChB,eAAe,EACT;IACN,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,UAAU;QACd;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,0MAAA,CAAA,WAAQ;gBAAC,MAAM;gBAAI,aAAa;gBAAK,WAAU;;;;;;YACtD,SAAS;QACX;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,wMAAA,CAAA,UAAO;gBAAC,MAAM;gBAAI,aAAa;gBAAK,WAAU;;;;;;YACrD,SAAS;QACX;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,oMAAA,CAAA,QAAK;gBAAC,MAAM;gBAAI,aAAa;gBAAK,WAAU;;;;;;YACnD,SAAS;QACX;QACA;YACE,KAAK;YACL,OAAO;YACP,oBAAM,8OAAC,sMAAA,CAAA,SAAM;gBAAC,MAAM;gBAAI,aAAa;gBAAK,WAAU;;;;;;YACpD,SAAS;QACX;KACD;IAED,qBACE,8OAAC,yLAAA,CAAA,kBAAe;kBACd,cAAA,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC1B,WAAU;sBAET,QAAQ,GAAG,CAAC,CAAC,GAAG,kBACf,8OAAC,0LAAA,CAAA,SAAM,CAAC,MAAM;oBAEZ,SAAS;wBACP,EAAE,OAAO,IAAI,EAAE,OAAO;wBACtB,WAAW;oBACb;oBACA,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,YAAY;4BAAE,OAAO,IAAI;wBAAK;oBAAE;oBAC7D,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBACzB,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;sCAA4C,EAAE,IAAI;;;;;;sCACjE,8OAAC;4BAAI,WAAU;sCAAwC,EAAE,KAAK;;;;;;;mBAXzD,EAAE,GAAG;;;;;;;;;;;;;;;AAiBtB","debugId":null}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/hooks/useAppModal.ts"],"sourcesContent":["// src/hooks/useAppModal.ts\r\nimport { useContext } from \"react\";\r\nimport { AppModalContext } from \"@/contexts/AppModalContext\";\r\n\r\nexport default function useAppModal() {\r\n  return useContext(AppModalContext);\r\n}\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAC3B;AACA;;;AAEe,SAAS;IACtB,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE,mIAAA,CAAA,kBAAe;AACnC","debugId":null}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/components/home/FloatingActionButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Plus } from \"lucide-react\";\r\nimport ActionMenu from \"./ActionMenu\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport useAppModal from \"@/hooks/useAppModal\";\r\n\r\nexport default function FloatingActionButton() {\r\n  const [open, setOpen] = useState(false);\r\n  const { openWater, openMeal } = useAppModal();\r\n\r\n  const handleOpenWater = () => {\r\n    setOpen(false);\r\n    openWater({\r\n      onSaved: () => {\r\n        window.dispatchEvent(new Event(\"waterSaved\"));\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleOpenMeal = () => {\r\n    setOpen(false);\r\n    openMeal({\r\n      onSaved: () => {\r\n        window.dispatchEvent(new Event(\"mealSaved\"));\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* overlay suave com blur - fecha ao clicar */}\r\n      <AnimatePresence>\r\n        {open && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={() => setOpen(false)}\r\n            className=\"fixed inset-0 z-40 backdrop-blur-sm bg-black/12\"\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Menu de ações — agora recebe a função de abrir o modal */}\r\n      <ActionMenu\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        onRegisterWater={handleOpenWater}\r\n        onRegisterMeal={handleOpenMeal}\r\n        // onRegisterWeight={handleOpenWeight}\r\n        // onRegisterPhoto={handleOpenPhoto}\r\n      />\r\n\r\n      {/* BOTÃO FLUTUANTE */}\r\n      <motion.button\r\n        aria-label=\"Ações rápidas\"\r\n        onClick={() => setOpen((s) => !s)}\r\n        className=\"fixed right-5 bottom-24 z-50 w-14 h-14 rounded-full bg-[#00C974] flex items-center justify-center shadow-[0_8px_20px_rgba(0,0,0,0.12)]\"\r\n        whileTap={{ scale: 0.95 }}\r\n      >\r\n        <Plus size={26} strokeWidth={3} className=\"text-white\" />\r\n      </motion.button>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,2HAAA,CAAA,UAAW,AAAD;IAE1C,MAAM,kBAAkB;QACtB,QAAQ;QACR,UAAU;YACR,SAAS;gBACP,OAAO,aAAa,CAAC,IAAI,MAAM;YACjC;QACF;IACF;IAEA,MAAM,iBAAiB;QACrB,QAAQ;QACR,SAAS;YACP,SAAS;gBACP,OAAO,aAAa,CAAC,IAAI,MAAM;YACjC;QACF;IACF;IAEA,qBACE;;0BAEE,8OAAC,yLAAA,CAAA,kBAAe;0BACb,sBACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,SAAS,IAAM,QAAQ;oBACvB,WAAU;;;;;;;;;;;0BAMhB,8OAAC,wIAAA,CAAA,UAAU;gBACT,MAAM;gBACN,SAAS,IAAM,QAAQ;gBACvB,iBAAiB;gBACjB,gBAAgB;;;;;;0BAMlB,8OAAC,0LAAA,CAAA,SAAM,CAAC,MAAM;gBACZ,cAAW;gBACX,SAAS,IAAM,QAAQ,CAAC,IAAM,CAAC;gBAC/B,WAAU;gBACV,UAAU;oBAAE,OAAO;gBAAK;0BAExB,cAAA,8OAAC,kMAAA,CAAA,OAAI;oBAAC,MAAM;oBAAI,aAAa;oBAAG,WAAU;;;;;;;;;;;;;AAIlD","debugId":null}},
    {"offset": {"line": 1150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/services/home/loadDailyProgress.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\nimport dayjs from \"dayjs\";\r\n\r\ntype DailyProgress = {\r\n  water: number;        \r\n  meals: number;        \r\n  calories: number;     \r\n  caloriesValue: number;\r\n  mealsDone: number;    \r\n  waterValue: number;   \r\n};\r\n\r\nexport default async function loadDailyProgress(\r\n  userId: string\r\n): Promise<DailyProgress> {\r\n  try {\r\n    // -----------------------\r\n    // Buscar metas do usuário\r\n    // -----------------------\r\n    const { data: user } = await supabase\r\n      .from(\"users\")\r\n      .select(\"meta_agua, meta_calorias, meta_refeicoes\")\r\n      .eq(\"id\", userId)\r\n      .single();\r\n\r\n    const metaAgua = user?.meta_agua ?? 2000;\r\n    const metaCalorias = user?.meta_calorias ?? 2000;\r\n    const metaRefeicoes = user?.meta_refeicoes ?? 4;\r\n\r\n    // -----------------------\r\n    // Intervalo local do dia (CORRIGIDO)\r\n    // -----------------------\r\n    const startDay = dayjs().startOf(\"day\").toDate().toISOString();\r\n    const endDay = dayjs().endOf(\"day\").toDate().toISOString();\r\n\r\n    // -----------------------\r\n    // Buscar água ingerida\r\n    // -----------------------\r\n    const { data: waterRecords } = await supabase\r\n      .from(\"water_records\")\r\n      .select(\"amount\")\r\n      .eq(\"user_id\", userId)\r\n      .gte(\"created_at\", startDay)\r\n      .lte(\"created_at\", endDay);\r\n\r\n    const totalWater =\r\n      waterRecords?.reduce((sum, w) => sum + (w.amount ?? 0), 0) ?? 0;\r\n\r\n    // -----------------------\r\n    // Buscar refeições registradas HOJE\r\n    // -----------------------\r\n    const { data: mealRecords } = await supabase\r\n      .from(\"meals\")\r\n      .select(\"id, calories\")\r\n      .eq(\"user_id\", userId)\r\n      .gte(\"created_at\", startDay)\r\n      .lte(\"created_at\", endDay);\r\n\r\n    const mealsDone = mealRecords?.length ?? 0;\r\n    const mealsPct = Math.min((mealsDone / metaRefeicoes) * 100, 100);\r\n\r\n    // -----------------------\r\n    // Calorias totais\r\n    // -----------------------\r\n    const totalCalories =\r\n      mealRecords?.reduce((sum, m) => sum + (m.calories ?? 0), 0) ?? 0;\r\n\r\n    return {\r\n      water: Math.min((totalWater / metaAgua) * 100, 100),\r\n      meals: mealsPct,\r\n      calories: Math.min((totalCalories / metaCalorias) * 100, 100),\r\n      caloriesValue: totalCalories,\r\n      mealsDone,\r\n      waterValue: totalWater\r\n    };\r\n  } catch (err) {\r\n    console.error(\"Erro no loadDailyProgress:\", err);\r\n    return {\r\n      water: 0,\r\n      meals: 0,\r\n      calories: 0,\r\n      caloriesValue: 0,\r\n      mealsDone: 0,\r\n      waterValue: 0\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAWe,eAAe,kBAC5B,MAAc;IAEd,IAAI;QACF,0BAA0B;QAC1B,0BAA0B;QAC1B,0BAA0B;QAC1B,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CAClC,IAAI,CAAC,SACL,MAAM,CAAC,4CACP,EAAE,CAAC,MAAM,QACT,MAAM;QAET,MAAM,WAAW,MAAM,aAAa;QACpC,MAAM,eAAe,MAAM,iBAAiB;QAC5C,MAAM,gBAAgB,MAAM,kBAAkB;QAE9C,0BAA0B;QAC1B,qCAAqC;QACrC,0BAA0B;QAC1B,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,IAAI,OAAO,CAAC,OAAO,MAAM,GAAG,WAAW;QAC5D,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,IAAI,KAAK,CAAC,OAAO,MAAM,GAAG,WAAW;QAExD,0BAA0B;QAC1B,uBAAuB;QACvB,0BAA0B;QAC1B,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CAC1C,IAAI,CAAC,iBACL,MAAM,CAAC,UACP,EAAE,CAAC,WAAW,QACd,GAAG,CAAC,cAAc,UAClB,GAAG,CAAC,cAAc;QAErB,MAAM,aACJ,cAAc,OAAO,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,MAAM,IAAI,CAAC,GAAG,MAAM;QAEhE,0BAA0B;QAC1B,oCAAoC;QACpC,0BAA0B;QAC1B,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CACzC,IAAI,CAAC,SACL,MAAM,CAAC,gBACP,EAAE,CAAC,WAAW,QACd,GAAG,CAAC,cAAc,UAClB,GAAG,CAAC,cAAc;QAErB,MAAM,YAAY,aAAa,UAAU;QACzC,MAAM,WAAW,KAAK,GAAG,CAAC,AAAC,YAAY,gBAAiB,KAAK;QAE7D,0BAA0B;QAC1B,kBAAkB;QAClB,0BAA0B;QAC1B,MAAM,gBACJ,aAAa,OAAO,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG,MAAM;QAEjE,OAAO;YACL,OAAO,KAAK,GAAG,CAAC,AAAC,aAAa,WAAY,KAAK;YAC/C,OAAO;YACP,UAAU,KAAK,GAAG,CAAC,AAAC,gBAAgB,eAAgB,KAAK;YACzD,eAAe;YACf;YACA,YAAY;QACd;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;YACL,OAAO;YACP,OAAO;YACP,UAAU;YACV,eAAe;YACf,WAAW;YACX,YAAY;QACd;IACF;AACF","debugId":null}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/services/home/MealPlanMock.tsx"],"sourcesContent":["// src/services/home/MealPlanMock.ts\r\nexport type AiDayMeal = {\r\n  title: string;        // \"Café da manhã\", \"Almoço\", ...\r\n  description?: string;\r\n  calories?: number;\r\n};\r\n\r\ntype DayKey =\r\n  | \"domingo\"\r\n  | \"segunda\"\r\n  | \"terca\"\r\n  | \"quarta\"\r\n  | \"quinta\"\r\n  | \"sexta\"\r\n  | \"sabado\";\r\n\r\nexport type AiPlanDays = {\r\n  domingo: AiDayMeal[];\r\n  segunda: AiDayMeal[];\r\n  terca: AiDayMeal[];\r\n  quarta: AiDayMeal[];\r\n  quinta: AiDayMeal[];\r\n  sexta: AiDayMeal[];\r\n  sabado: AiDayMeal[];\r\n};\r\n\r\nexport async function loadWeeklyPlanMock(): Promise<AiPlanDays> {\r\n  // retorne um mock realista; async para compatibilidade com service real\r\n  return {\r\n    domingo: [\r\n      { title: \"Café da manhã\", description: \"Ovos mexidos + pão integral\", calories: 320 },\r\n      { title: \"Almoço\", description: \"Frango grelhado + arroz + salada\", calories: 520 },\r\n      { title: \"Café da tarde\", description: \"Iogurte natural + frutas\", calories: 180 },\r\n      { title: \"Jantar\", description: \"Sopa leve com frango\", calories: 340 },\r\n    ],\r\n    segunda: [\r\n      { title: \"Café da manhã\", description: \"Vitamina de banana + aveia\", calories: 280 },\r\n      { title: \"Almoço\", description: \"Carne moída + purê de batata\", calories: 540 },\r\n      { title: \"Café da tarde\", description: \"Castanhas + maçã\", calories: 190 },\r\n      { title: \"Jantar\", description: \"Peixe grelhado + legumes\", calories: 360 },\r\n    ],\r\n    terca: [\r\n      { title: \"Café da manhã\", description: \"Tapioca + café preto\", calories: 310 },\r\n      { title: \"Almoço\", description: \"Arroz, feijão e frango\", calories: 520 },\r\n      { title: \"Café da tarde\", description: \"Granola + iogurte\", calories: 200 },\r\n      { title: \"Jantar\", description: \"Panqueca fit\", calories: 350 },\r\n    ],\r\n    quarta: [\r\n      { title: \"Café da manhã\", description: \"Omelete + fruta\", calories: 300 },\r\n      { title: \"Almoço\", description: \"Peixe assado + arroz\", calories: 500 },\r\n      { title: \"Café da tarde\", description: \"Shake proteico\", calories: 250 },\r\n      { title: \"Jantar\", description: \"Sanduíche natural\", calories: 320 },\r\n    ],\r\n    quinta: [\r\n      { title: \"Café da manhã\", description: \"Pão integral + ovo\", calories: 310 },\r\n      { title: \"Almoço\", description: \"Macarrão com frango\", calories: 560 },\r\n      { title: \"Café da tarde\", description: \"Frutas + castanhas\", calories: 170 },\r\n      { title: \"Jantar\", description: \"Salada completa\", calories: 330 },\r\n    ],\r\n    sexta: [\r\n      { title: \"Café da manhã\", description: \"Crepioca proteica\", calories: 320 },\r\n      { title: \"Almoço\", description: \"Frango desfiado + legumes\", calories: 490 },\r\n      { title: \"Café da tarde\", description: \"Iogurte + mel\", calories: 180 },\r\n      { title: \"Jantar\", description: \"Risoto fit\", calories: 380 },\r\n    ],\r\n    sabado: [\r\n      { title: \"Café da manhã\", description: \"Panqueca de aveia\", calories: 340 },\r\n      { title: \"Almoço\", description: \"Lasanha fit\", calories: 530 },\r\n      { title: \"Café da tarde\", description: \"Suco natural + nuts\", calories: 160 },\r\n      { title: \"Jantar\", description: \"Hambúrguer caseiro\", calories: 400 },\r\n    ],\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA,oCAAoC;;;;AA0B7B,eAAe;IACpB,wEAAwE;IACxE,OAAO;QACL,SAAS;YACP;gBAAE,OAAO;gBAAiB,aAAa;gBAA+B,UAAU;YAAI;YACpF;gBAAE,OAAO;gBAAU,aAAa;gBAAoC,UAAU;YAAI;YAClF;gBAAE,OAAO;gBAAiB,aAAa;gBAA4B,UAAU;YAAI;YACjF;gBAAE,OAAO;gBAAU,aAAa;gBAAwB,UAAU;YAAI;SACvE;QACD,SAAS;YACP;gBAAE,OAAO;gBAAiB,aAAa;gBAA8B,UAAU;YAAI;YACnF;gBAAE,OAAO;gBAAU,aAAa;gBAAgC,UAAU;YAAI;YAC9E;gBAAE,OAAO;gBAAiB,aAAa;gBAAoB,UAAU;YAAI;YACzE;gBAAE,OAAO;gBAAU,aAAa;gBAA4B,UAAU;YAAI;SAC3E;QACD,OAAO;YACL;gBAAE,OAAO;gBAAiB,aAAa;gBAAwB,UAAU;YAAI;YAC7E;gBAAE,OAAO;gBAAU,aAAa;gBAA0B,UAAU;YAAI;YACxE;gBAAE,OAAO;gBAAiB,aAAa;gBAAqB,UAAU;YAAI;YAC1E;gBAAE,OAAO;gBAAU,aAAa;gBAAgB,UAAU;YAAI;SAC/D;QACD,QAAQ;YACN;gBAAE,OAAO;gBAAiB,aAAa;gBAAmB,UAAU;YAAI;YACxE;gBAAE,OAAO;gBAAU,aAAa;gBAAwB,UAAU;YAAI;YACtE;gBAAE,OAAO;gBAAiB,aAAa;gBAAkB,UAAU;YAAI;YACvE;gBAAE,OAAO;gBAAU,aAAa;gBAAqB,UAAU;YAAI;SACpE;QACD,QAAQ;YACN;gBAAE,OAAO;gBAAiB,aAAa;gBAAsB,UAAU;YAAI;YAC3E;gBAAE,OAAO;gBAAU,aAAa;gBAAuB,UAAU;YAAI;YACrE;gBAAE,OAAO;gBAAiB,aAAa;gBAAsB,UAAU;YAAI;YAC3E;gBAAE,OAAO;gBAAU,aAAa;gBAAmB,UAAU;YAAI;SAClE;QACD,OAAO;YACL;gBAAE,OAAO;gBAAiB,aAAa;gBAAqB,UAAU;YAAI;YAC1E;gBAAE,OAAO;gBAAU,aAAa;gBAA6B,UAAU;YAAI;YAC3E;gBAAE,OAAO;gBAAiB,aAAa;gBAAiB,UAAU;YAAI;YACtE;gBAAE,OAAO;gBAAU,aAAa;gBAAc,UAAU;YAAI;SAC7D;QACD,QAAQ;YACN;gBAAE,OAAO;gBAAiB,aAAa;gBAAqB,UAAU;YAAI;YAC1E;gBAAE,OAAO;gBAAU,aAAa;gBAAe,UAAU;YAAI;YAC7D;gBAAE,OAAO;gBAAiB,aAAa;gBAAuB,UAAU;YAAI;YAC5E;gBAAE,OAAO;gBAAU,aAAa;gBAAsB,UAAU;YAAI;SACrE;IACH;AACF","debugId":null}},
    {"offset": {"line": 1377, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/services/home/loadTodayMeals.ts"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\nimport dayjs from \"dayjs\";\r\nimport { loadWeeklyPlanMock } from \"./MealPlanMock\";\r\nimport type { AiPlanDays, AiDayMeal } from \"./MealPlanMock\";\r\n\r\nexport type TodayMeal = {\r\n  title: string;\r\n  description?: string;\r\n  calories?: number;\r\n  done: boolean;\r\n};\r\n\r\nexport default async function loadTodayMeals(\r\n  userId: string\r\n): Promise<TodayMeal[]> {\r\n  try {\r\n    // -------------------------------\r\n    // 1 • Obter chave do dia atual\r\n    // -------------------------------\r\n    const dayMap: Record<number, keyof AiPlanDays> = {\r\n      0: \"domingo\",\r\n      1: \"segunda\",\r\n      2: \"terca\",\r\n      3: \"quarta\",\r\n      4: \"quinta\",\r\n      5: \"sexta\",\r\n      6: \"sabado\",\r\n    };\r\n\r\n    const todayKey: keyof AiPlanDays = dayMap[dayjs().day()];\r\n\r\n    // -------------------------------\r\n    // 2 • Buscar plano real da IA\r\n    // -------------------------------\r\n    const { data: plan } = await supabase\r\n      .from(\"ai_generated_meal_plan\")\r\n      .select(\"days\")\r\n      .eq(\"user_id\", userId)\r\n      .order(\"week_start\", { ascending: false })\r\n      .limit(1)\r\n      .single();\r\n\r\n    let todayMealsFromAI: AiDayMeal[] = [];\r\n\r\n    if (plan?.days && plan.days[todayKey]) {\r\n      todayMealsFromAI = plan.days[todayKey];\r\n    } else {\r\n      const mock = await loadWeeklyPlanMock();\r\n      todayMealsFromAI = mock[todayKey] ?? [];\r\n    }\r\n\r\n    // -------------------------------\r\n    // 3 • Buscar refeições registradas HOJE (timezone correto)\r\n    // -------------------------------\r\n    const start = dayjs().startOf(\"day\").toDate().toISOString();\r\n    const end = dayjs().endOf(\"day\").toDate().toISOString();\r\n\r\n    const { data: userMeals } = await supabase\r\n      .from(\"meals\")\r\n      .select(\"*\")\r\n      .eq(\"user_id\", userId)\r\n      .gte(\"created_at\", start)\r\n      .lte(\"created_at\", end);\r\n\r\n    // -------------------------------\r\n    // 4 • Matching robusto por título\r\n    // -------------------------------\r\n    const findUserMeal = (title: string) =>\r\n      (userMeals ?? []).find((m) => m.title?.trim() === title.trim());\r\n\r\n    const order = [\"Café da manhã\", \"Almoço\", \"Café da tarde\", \"Jantar\"];\r\n\r\n    return order.map((ref) => {\r\n      const userMeal = findUserMeal(ref);\r\n      const aiMeal = todayMealsFromAI.find((m) => m.title === ref);\r\n\r\n      if (userMeal) {\r\n        return {\r\n          title: ref,\r\n          description: userMeal.description ?? aiMeal?.description,\r\n          calories: userMeal.calories ?? aiMeal?.calories,\r\n          done: true,\r\n        };\r\n      }\r\n\r\n      return {\r\n        title: ref,\r\n        description: aiMeal?.description ?? \"\",\r\n        calories: aiMeal?.calories ?? 0,\r\n        done: false,\r\n      };\r\n    });\r\n  } catch (err) {\r\n    console.error(\"Erro em loadTodayMeals:\", err);\r\n    return [];\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAUe,eAAe,eAC5B,MAAc;IAEd,IAAI;QACF,kCAAkC;QAClC,+BAA+B;QAC/B,kCAAkC;QAClC,MAAM,SAA2C;YAC/C,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;QACL;QAEA,MAAM,WAA6B,MAAM,CAAC,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,IAAI,GAAG,GAAG;QAExD,kCAAkC;QAClC,8BAA8B;QAC9B,kCAAkC;QAClC,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CAClC,IAAI,CAAC,0BACL,MAAM,CAAC,QACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC,GACN,MAAM;QAET,IAAI,mBAAgC,EAAE;QAEtC,IAAI,MAAM,QAAQ,KAAK,IAAI,CAAC,SAAS,EAAE;YACrC,mBAAmB,KAAK,IAAI,CAAC,SAAS;QACxC,OAAO;YACL,MAAM,OAAO,MAAM,CAAA,GAAA,wIAAA,CAAA,qBAAkB,AAAD;YACpC,mBAAmB,IAAI,CAAC,SAAS,IAAI,EAAE;QACzC;QAEA,kCAAkC;QAClC,2DAA2D;QAC3D,kCAAkC;QAClC,MAAM,QAAQ,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,IAAI,OAAO,CAAC,OAAO,MAAM,GAAG,WAAW;QACzD,MAAM,MAAM,CAAA,GAAA,qIAAA,CAAA,UAAK,AAAD,IAAI,KAAK,CAAC,OAAO,MAAM,GAAG,WAAW;QAErD,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CACvC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,GAAG,CAAC,cAAc,OAClB,GAAG,CAAC,cAAc;QAErB,kCAAkC;QAClC,kCAAkC;QAClC,kCAAkC;QAClC,MAAM,eAAe,CAAC,QACpB,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,EAAE,WAAW,MAAM,IAAI;QAE9D,MAAM,QAAQ;YAAC;YAAiB;YAAU;YAAiB;SAAS;QAEpE,OAAO,MAAM,GAAG,CAAC,CAAC;YAChB,MAAM,WAAW,aAAa;YAC9B,MAAM,SAAS,iBAAiB,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK;YAExD,IAAI,UAAU;gBACZ,OAAO;oBACL,OAAO;oBACP,aAAa,SAAS,WAAW,IAAI,QAAQ;oBAC7C,UAAU,SAAS,QAAQ,IAAI,QAAQ;oBACvC,MAAM;gBACR;YACF;YAEA,OAAO;gBACL,OAAO;gBACP,aAAa,QAAQ,eAAe;gBACpC,UAAU,QAAQ,YAAY;gBAC9B,MAAM;YACR;QACF;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;AACF","debugId":null}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/services/home/loadWeeklyPlan.ts"],"sourcesContent":["// src/services/home/loadWeeklyPlan.ts\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport dayjs from \"dayjs\";\r\nimport { loadWeeklyPlanMock, AiPlanDays, AiDayMeal } from \"./MealPlanMock\";\r\n\r\ntype DayKey =\r\n  | \"domingo\"\r\n  | \"segunda\"\r\n  | \"terca\"\r\n  | \"quarta\"\r\n  | \"quinta\"\r\n  | \"sexta\"\r\n  | \"sabado\";\r\n\r\nexport type WeeklyPlanResult = {\r\n  days: AiPlanDays;\r\n  totals: Record<DayKey, number>; // soma de calorias por dia\r\n  week_start?: string | null;\r\n};\r\n\r\nexport default async function loadWeeklyPlan(userId: string): Promise<WeeklyPlanResult> {\r\n  try {\r\n    // buscar plano IA mais recente\r\n    const { data: plan, error } = await supabase\r\n      .from(\"ai_generated_meal_plan\")\r\n      .select(\"week_start, days\")\r\n      .eq(\"user_id\", userId)\r\n      .order(\"week_start\", { ascending: false })\r\n      .limit(1)\r\n      .single();\r\n\r\n    let days: AiPlanDays;\r\n    let week_start: string | null = null;\r\n\r\n    if (plan && plan.days) {\r\n      days = plan.days as AiPlanDays;\r\n      week_start = plan.week_start ?? null;\r\n    } else {\r\n      // fallback MOCK\r\n      days = await loadWeeklyPlanMock();\r\n    }\r\n\r\n    // calcular totais por dia\r\n    const totals = (Object.keys(days) as DayKey[]).reduce((acc, day) => {\r\n      const sum = (days[day] ?? []).reduce((s, m: AiDayMeal) => s + (m.calories ?? 0), 0);\r\n      acc[day] = sum;\r\n      return acc;\r\n    }, {} as Record<DayKey, number>);\r\n\r\n    return { days, totals, week_start };\r\n  } catch (err) {\r\n    console.error(\"Erro em loadWeeklyPlan:\", err);\r\n    const mock = await loadWeeklyPlanMock();\r\n    const totals = (Object.keys(mock) as DayKey[]).reduce((acc, day) => {\r\n      const sum = (mock[day] ?? []).reduce((s, m) => s + (m.calories ?? 0), 0);\r\n      acc[day] = sum;\r\n      return acc;\r\n    }, {} as Record<DayKey, number>);\r\n    return { days: mock, totals, week_start: null };\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;AACtC;AAEA;;;AAiBe,eAAe,eAAe,MAAc;IACzD,IAAI;QACF,+BAA+B;QAC/B,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAA,CAAA,WAAQ,CACzC,IAAI,CAAC,0BACL,MAAM,CAAC,oBACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC,GACN,MAAM;QAET,IAAI;QACJ,IAAI,aAA4B;QAEhC,IAAI,QAAQ,KAAK,IAAI,EAAE;YACrB,OAAO,KAAK,IAAI;YAChB,aAAa,KAAK,UAAU,IAAI;QAClC,OAAO;YACL,gBAAgB;YAChB,OAAO,MAAM,CAAA,GAAA,wIAAA,CAAA,qBAAkB,AAAD;QAChC;QAEA,0BAA0B;QAC1B,MAAM,SAAS,AAAC,OAAO,IAAI,CAAC,MAAmB,MAAM,CAAC,CAAC,KAAK;YAC1D,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAiB,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG;YACjF,GAAG,CAAC,IAAI,GAAG;YACX,OAAO;QACT,GAAG,CAAC;QAEJ,OAAO;YAAE;YAAM;YAAQ;QAAW;IACpC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM,OAAO,MAAM,CAAA,GAAA,wIAAA,CAAA,qBAAkB,AAAD;QACpC,MAAM,SAAS,AAAC,OAAO,IAAI,CAAC,MAAmB,MAAM,CAAC,CAAC,KAAK;YAC1D,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC,GAAG;YACtE,GAAG,CAAC,IAAI,GAAG;YACX,OAAO;QACT,GAAG,CAAC;QACJ,OAAO;YAAE,MAAM;YAAM;YAAQ,YAAY;QAAK;IAChD;AACF","debugId":null}},
    {"offset": {"line": 1510, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaiky/OneDrive/%C3%81rea%20de%20Trabalho/Auraline/app-nutricional/src/app/home/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport type { User } from \"@supabase/supabase-js\";\r\n\r\nimport Header from \"@/components/home/Header\";\r\nimport DailyGoals from \"@/components/home/DailyGoals\";\r\nimport TodayMeals from \"@/components/home/TodayMeals\";\r\nimport WeeklyPlan, { AiPlanDays } from \"@/components/home/WeeklyPlan\";\r\nimport ShoppingPreview from \"@/components/home/ShoppingPreview\";\r\nimport CaloriesCard from \"@/components/home/CaloriesCard\";\r\nimport BottomBar from \"@/components/home/BottomBar\";\r\nimport FloatingActionButton from \"@/components/home/FloatingActionButton\";\r\n\r\nimport loadDailyProgress from \"@/services/home/loadDailyProgress\";\r\nimport loadTodayMeals from \"@/services/home/loadTodayMeals\";\r\nimport loadWeeklyPlan from \"@/services/home/loadWeeklyPlan\";\r\n\r\n// -------------------------\r\n// TYPES\r\n// -------------------------\r\ntype Meal = {\r\n  title: string;\r\n  calories?: number;\r\n  description?: string;\r\n};\r\n\r\nexport default function HomePage() {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  const [progress, setProgress] = useState<any>(null);\r\n  const [meals, setMeals] = useState<Meal[]>([]);\r\n  const [shoppingItems, setShoppingItems] = useState<string[]>([]);\r\n  const [calories, setCalories] = useState<number>(0);\r\n\r\n  const [weeklyPlan, setWeeklyPlan] = useState<AiPlanDays | null>(null);\r\n  const [weeklyTotals, setWeeklyTotals] = useState<Record<string, number> | null>(\r\n    null\r\n  );\r\n\r\n  // -----------------------------\r\n  // LOAD USER\r\n  // -----------------------------\r\n  useEffect(() => {\r\n    supabase.auth.getUser().then(({ data }) => {\r\n      setUser(data.user ?? null);\r\n    });\r\n  }, []);\r\n\r\n  // -----------------------------\r\n  // RELOAD HOME DATA\r\n  // -----------------------------\r\n  async function reloadHomeData(uid: string) {\r\n    const p = await loadDailyProgress(uid);\r\n    setProgress(p);\r\n    setCalories(p.caloriesValue);\r\n\r\n    const todayMeals = await loadTodayMeals(uid);\r\n    setMeals(todayMeals);\r\n\r\n    const weekly = await loadWeeklyPlan(uid);\r\n    setWeeklyPlan(weekly.days);\r\n    setWeeklyTotals(weekly.totals);\r\n  }\r\n\r\n  // Carrega ao iniciar\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    reloadHomeData(user.id);\r\n  }, [user]);\r\n\r\n  // Recarrega ao salvar água\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    const handler = () => reloadHomeData(user.id);\r\n\r\n    window.addEventListener(\"waterSaved\", handler);\r\n    return () => window.removeEventListener(\"waterSaved\", handler);\r\n  }, [user]);\r\n\r\n  // Recarrega ao salvar refeição\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    const handler = () => reloadHomeData(user.id);\r\n\r\n    window.addEventListener(\"mealSaved\", handler);\r\n    return () => window.removeEventListener(\"mealSaved\", handler);\r\n  }, [user]);\r\n\r\n  // -----------------------------\r\n  // LOADING STATE\r\n  // -----------------------------\r\n  if (!progress) return null;\r\n\r\n  // -----------------------------\r\n  // RENDER COMPONENT\r\n  // -----------------------------\r\n  return (\r\n    <div className=\"pb-24 pt-6 px-3\">\r\n      <Header user={user} />\r\n\r\n      <DailyGoals\r\n        water={progress.water}\r\n        meals={progress.meals}\r\n        calories={progress.calories}\r\n        waterValue={progress.waterValue}\r\n        waterGoal={progress.metaAgua ?? 2000}\r\n        mealsDone={progress.mealsDone}\r\n        mealsGoal={progress.metaRefeicoes ?? 4}\r\n        caloriesValue={progress.caloriesValue}\r\n        caloriesGoal={progress.metaCalorias ?? 2000}\r\n      />\r\n\r\n      <TodayMeals meals={meals} />\r\n\r\n      <WeeklyPlan\r\n        plan={\r\n          weeklyPlan ?? {\r\n            domingo: [],\r\n            segunda: [],\r\n            terca: [],\r\n            quarta: [],\r\n            quinta: [],\r\n            sexta: [],\r\n            sabado: [],\r\n          }\r\n        }\r\n        totals={weeklyTotals ?? {}}\r\n      />\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <ShoppingPreview items={shoppingItems} />\r\n        <CaloriesCard calories={calories} />\r\n      </div>\r\n\r\n      <FloatingActionButton />\r\n      <BottomBar />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}